#   淘票票开发
- 淘票票
- 端
    - 淘票票后端
        - 淘票票公司自己管理
    - 客户端
        - 看电影的用户准备的
    - 影院端
        - 电影放映

### 淘票票后端
- 管理淘票票用户
- 影院审核管理
- 电影管理

### 淘票票影院段
- 后端购买来的电影播放权
    - 电影
- 放映厅
    - 坐标系，二维矩阵
- 排挡
    - 关系表
    - 电影和放映厅 + 时间


### 淘票票客户端
- 查看电影
- 查看影院
- 查看排挡
- 下单
    - 查找具体排挡
    - 选座（座位锁定），并发 
        - 订单过期
    - 支付
    - 
    
### 通用模块
- 用户体系
    - 用户权限
    - 用户角色
- 电影
    - TPP后端操作
        - 增删改查
    - TPP影院段
        - 查询
    - TPP客户端
        - 查询
- 排挡
    - TPP后端
        - 增删改查
- 影院段
    - 增删改查
- 客户端
    - 查
- 影票
    - TPP后端
        - 增删改查
    - TPP影院段
        - 增删改查
    - 客户端
        - 增查删

### 可扩展
    - 优惠券
    - 积分系统
    - 影院会员系统
    - 打折
    - 地址
        - 后段规划
        - 影院添加
### 项目架构
- 一个项目入口
    - App/__init__
    - apis
        - admin
        - movie_admin
        - movie_user
    - models
        - admin
        - movie_admin
        _ movie_user
        
- 另外一种架构
    - FlaskTpp
        - __init__
        - settings
        - ext
    - Admin
        - apis
        - models
    - MovieAdmin
        - apis
        - models
    - MovieUser
        - apis
        - models

### 系统设计
- 客户端
    - 用户系统
        - 字段
        - username
        - password
        - phone
        - email
        - is_delete
        - permission
             - 类似于linux的权限设
                - 精髓，一个字段可以代表多种权限
                - 还可分成两种
                    - 完全和linux中一样
                        - 使用二进制
                        - 所有的初始权限值都是2的n次幂
                    - 只是给一个数值
                        - 数值越大代表权限越高
                        - 数值小的所有权限
             - 多表设计权限
                - 用户表
                - 权限表
                - 用户权限表

### 多个接口拥有通用功能
- 代码复用
    - 装饰器
    - 钩子函数
    - 封装函数
    - 创建一个父类
    
### 装饰器
- 面向切面编程的一部分
- 在不修改代码的情况下，添加功能，添加逻辑控制
- 装饰器内部参数
    - *args 用于接收位置参数
        - 关键字参数默认值可以自动处理
    - **kwargs 用于接收关键字参数
    - 如果原函数拥有返回值
        - 默认只有调用的话，返回值会被丢弃
        - 想接收返回值，要进行数据的返回
    
### 特殊登录
- 扫码登录
    - 前置条件
        - 有一个已登入的账号
    - 使用登入好账号中的令牌来访问自己的登入接口
        - 常规登入接口
            - 用户名
            - 密码
            - 手机号
            - 邮箱
    - 特殊登入接口
        - 直接可通过token进行登入
        - 扫码扫出来的就是特殊的登入接口
- 跨应用登录
- 第三方登录


### 城市导入脚本
- 获取城市信息
- 将城市信息读取到脚本环境中
- 处理后插入数据库中

### 项目当前状况
- 三段划分
    - 客户端
    - 商家端
    - 后端管理
- 客户端
    - 用户模块
        - 注册登录
        - 信息修改
        - 用户删除（不允许）
        - 权限
- 商家端
    - null

- 后端
    - null

- 通用模块
    - 地址管理

#### Next

- 电影
    - 电影来处（后端）
- 后端
    - 用户实现（管理系统）
- 可以实现电影增删改查
- 客户端可以实现电影查询
- 查询电影院（影院端）
    - 用户实现（影院端）
    - 获取电影列表
    - 购买电影播放权
    
### 电影
- 电影属于哪个公司
- 演员
- 操作
    - CRUD
        -C
            - 只有后台登录的管理员能创建
            - token认证
                - 会出现多个端token混乱
                    - 不同token对应的相同id值
                    - 解决方案
                        - token添加前缀或后缀
                            - movieuser
                        - 修改表结构，user_id
                            - 值是字符串，里面存uuid
        

### 电影公司   

### 演员表
    
#### Next
- 电影院排挡
- 用户浏览具体排挡下单
- 支付
- 票房排行
    - 统计电影卖的所有票的总和
    - 电影
        - 排挡
            - 订单
                - 价钱
- 热度排行


### 影院段
- 用户
- 用户购买的电影播放权
- 放映厅
- 排挡

### 拍档之后
- 用户可以查看排挡
- 下单（锁定订单）
- 支付
       

    
